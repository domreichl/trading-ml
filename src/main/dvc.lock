schema: '2.0'
stages:
  prepare:
    cmd: python prepare.py
    deps:
    - path: ../../config/data.yaml
      hash: md5
      md5: 0dc87b324c12218372ddf6a9e2daf984
      size: 804
    - path: prepare.py
      hash: md5
      md5: 890fc346dcb7dfb59c6c3cc1d47a1715
      size: 231
    params:
      prepare_params.yaml:
        end_date: '2023-11-03'
        start_date: '2000-01-03'
    outs:
    - path: ../../data/main.csv
      hash: md5
      md5: 8cd1bb8bba47ab47c34d9a6e3dc10871
      size: 3224571
  train:
    cmd: python train.py
    deps:
    - path: ../../config/models.yaml
      hash: md5
      md5: d00207d9c0f1c99b595470dfd904af0b
      size: 411
    - path: ../../data/main.csv
      hash: md5
      md5: 8cd1bb8bba47ab47c34d9a6e3dc10871
      size: 3224571
    - path: train.py
      hash: md5
      md5: 2c37e378fd8755f98a1ade7246f79d23
      size: 520
    outs:
    - path: ../../ckpts/main
      hash: md5
      md5: a08e194333ed7c6a081754bd29b3da7d.dir
      size: 4848441
      nfiles: 34
  test:
    cmd: python test.py
    deps:
    - path: ../../ckpts/main
      hash: md5
      md5: a08e194333ed7c6a081754bd29b3da7d.dir
      size: 4848441
      nfiles: 34
    - path: ../../data/main.csv
      hash: md5
      md5: 8cd1bb8bba47ab47c34d9a6e3dc10871
      size: 3224571
    - path: test.py
      hash: md5
      md5: 6c9a5123118818d47ed8cbad6fe30723
      size: 1894
    outs:
    - path: ../../results/test_metrics.csv
      hash: md5
      md5: 86fe323458a7c9468e943bb7b49ea48b
      size: 1351
    - path: ../../results/test_metrics.json
      hash: md5
      md5: 26dc063e2253e1367eb052e6b77509f8
      size: 1067
    - path: ../../results/test_predictions.csv
      hash: md5
      md5: edb2b3a615281b6de7e22d86d4f66488
      size: 58593
    - path: ../../results/test_ratings.json
      hash: md5
      md5: 729b55b602c241e6a9be1918dfc529b6
      size: 57
  forecast:
    cmd: python forecast.py
    deps:
    - path: ../../results/test_ratings.json
      hash: md5
      md5: 729b55b602c241e6a9be1918dfc529b6
      size: 57
    - path: forecast.py
      hash: md5
      md5: e1ec4ab8aa8634411165dcce57c6906f
      size: 1163
    outs:
    - path: ../../ckpts/prod
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    - path: ../../results/forecast.csv
      hash: md5
      md5: c3fe1ded9110c85cee34219a2de126bf
      size: 12906
  recommend:
    cmd: python recommend.py
    deps:
    - path: ../../results/forecast.csv
      hash: md5
      md5: c3fe1ded9110c85cee34219a2de126bf
      size: 12906
    - path: recommend.py
      hash: md5
      md5: 17507507704c87fc60c27ffc5a358f2e
      size: 1881
    outs:
    - path: ../../results/recommendation.json
      hash: md5
      md5: 3d3a7f13023c9d7e62e0f5aa275a0a51
      size: 1977
