schema: '2.0'
stages:
  prepare:
    cmd: python prepare.py
    deps:
    - path: ../../config/data.yaml
      hash: md5
      md5: 0dc87b324c12218372ddf6a9e2daf984
      size: 804
    - path: prepare.py
      hash: md5
      md5: 890fc346dcb7dfb59c6c3cc1d47a1715
      size: 231
    params:
      prepare_params.yaml:
        end_date: '2023-10-31'
        start_date: '2000-01-03'
    outs:
    - path: ../../data/main.csv
      hash: md5
      md5: 492d5dbcf8da484317d8b30c3d995464
      size: 3222043
  train:
    cmd: python train.py
    deps:
    - path: ../../config/data.yaml
      hash: md5
      md5: 0dc87b324c12218372ddf6a9e2daf984
      size: 804
    - path: ../../config/models.yaml
      hash: md5
      md5: 2d0b3f263bc2c34a014bf3c57bbfe86e
      size: 412
    - path: ../../data/main.csv
      hash: md5
      md5: 492d5dbcf8da484317d8b30c3d995464
      size: 3222043
    - path: train.py
      hash: md5
      md5: 2c37e378fd8755f98a1ade7246f79d23
      size: 520
    outs:
    - path: ../../ckpts/main
      hash: md5
      md5: 8a7d323e9e1d93db4c6c2a72e13c35b4.dir
      size: 4848730
      nfiles: 34
  test:
    cmd: python test.py
    deps:
    - path: ../../ckpts/main
      hash: md5
      md5: 8a7d323e9e1d93db4c6c2a72e13c35b4.dir
      size: 4848730
      nfiles: 34
    - path: ../../config/data.yaml
      hash: md5
      md5: 0dc87b324c12218372ddf6a9e2daf984
      size: 804
    - path: test.py
      hash: md5
      md5: c3ebc99dfff2514f7f11118005dba508
      size: 1913
    outs:
    - path: ../../results/test_metrics.csv
      hash: md5
      md5: 68a52e4c57e141025b5b2feda8e96cb1
      size: 1304
    - path: ../../results/test_metrics.json
      hash: md5
      md5: 9308eeceeee0686c5ef7347599cc22a7
      size: 977
    - path: ../../results/test_predictions.csv
      hash: md5
      md5: a2b43d8a3db5a6a5b89b575ad7ddaa1b
      size: 61789
    - path: ../../results/test_ranked.csv
      hash: md5
      md5: fdc771c8b5d0d794c8507f7c5dfd7f99
      size: 205
  forecast:
    cmd: python forecast.py
    deps:
    - path: ../../config/data.yaml
      hash: md5
      md5: 0dc87b324c12218372ddf6a9e2daf984
      size: 804
    - path: ../../results/test_ranked.csv
      hash: md5
      md5: fdc771c8b5d0d794c8507f7c5dfd7f99
      size: 205
    - path: forecast.py
      hash: md5
      md5: edb287cd2c3273abfd014ce0dbd144f8
      size: 1172
    outs:
    - path: ../../ckpts/prod
      hash: md5
      md5: 69af4eb068eb174d0b1ed70da2dedbe9.dir
      size: 882279
      nfiles: 17
    - path: ../../results/forecast.csv
      hash: md5
      md5: b7880bbffc0004ed2ee29913c89dac9a
      size: 36861
  recommend:
    cmd: python recommend.py
    deps:
    - path: ../../config/data.yaml
      hash: md5
      md5: 0dc87b324c12218372ddf6a9e2daf984
      size: 804
    - path: ../../results/forecast.csv
      hash: md5
      md5: b7880bbffc0004ed2ee29913c89dac9a
      size: 36861
    - path: recommend.py
      hash: md5
      md5: 5b6eca0ff1ff82f86dc40fc9fb6c23d2
      size: 1434
    outs:
    - path: ../../results/recommendation.json
      hash: md5
      md5: 76c9b569133a2e88b362a48eeb957374
      size: 1779
