schema: '2.0'
stages:
  prepare:
    cmd: python prepare.py
    deps:
    - path: ../../config/data_config.yaml
      hash: md5
      md5: 0dc87b324c12218372ddf6a9e2daf984
      size: 804
    - path: prepare.py
      hash: md5
      md5: 890fc346dcb7dfb59c6c3cc1d47a1715
      size: 231
    params:
      prepare_params.yaml:
        end_date: '2023-09-29'
        start_date: '2000-01-03'
    outs:
    - path: ../../data/main.csv
      hash: md5
      md5: 92d87ea7d9e541220605d13921b71ab9
      size: 3211949
  train:
    cmd: python train.py
    deps:
    - path: ../../config/model_config.yaml
      hash: md5
      md5: ac21e0e9eb595c6a472ec09c8b5b84b3
      size: 197
    - path: ../../data/main.csv
      hash: md5
      md5: 92d87ea7d9e541220605d13921b71ab9
      size: 3211949
    - path: train.py
      hash: md5
      md5: 11d850958009333d7ade5e66b4df39d9
      size: 401
    outs:
    - path: ../../ckpts/main
      hash: md5
      md5: 890a97ad292c1ed2bcfb7ec3c4a5776b.dir
      size: 884077
      nfiles: 17
  test:
    cmd: python test.py
    deps:
    - path: ../../ckpts/main
      hash: md5
      md5: 890a97ad292c1ed2bcfb7ec3c4a5776b.dir
      size: 884077
      nfiles: 17
    - path: test.py
      hash: md5
      md5: 9e4360421e428e648b9b28d7c78aebdd
      size: 1850
    outs:
    - path: ../../results/test_metrics.csv
      hash: md5
      md5: a5923e64e04f3bed3e50aadbae5ab41e
      size: 719
    - path: ../../results/test_metrics.json
      hash: md5
      md5: 78dd716234956f81950013d3421c326d
      size: 513
    - path: ../../results/test_predictions.csv
      hash: md5
      md5: dfef104e2168e105e254b2099446367a
      size: 31344
    - path: ../../results/test_ranked.csv
      hash: md5
      md5: b8727d8e498af90083fc68e5499d059a
      size: 130
  forecast:
    cmd: python forecast.py
    deps:
    - path: ../../results/test_ranked.csv
      hash: md5
      md5: b8727d8e498af90083fc68e5499d059a
      size: 130
    - path: forecast.py
      hash: md5
      md5: 2c0ce07af51de408a5ebf1647b28dd39
      size: 1128
    outs:
    - path: ../../ckpts/prod
      hash: md5
      md5: 9f9a07a83e9b811c0d7888ac73b27e63.dir
      size: 884097
      nfiles: 17
    - path: ../../results/forecast.csv
      hash: md5
      md5: ba0d2bee87d7bbf9d658a0285b646a48
      size: 23441
  recommend:
    cmd: python recommend.py
    deps:
    - path: ../../results/forecast.csv
      hash: md5
      md5: ba0d2bee87d7bbf9d658a0285b646a48
      size: 23441
    - path: recommend.py
      hash: md5
      md5: 2106aa14570725536b2b1c594eafa4ef
      size: 1442
    outs:
    - path: ../../results/recommendation.json
      hash: md5
      md5: a12a3728b83ecee7e4ff8773b4153bdc
      size: 1684
