schema: '2.0'
stages:
  prepare:
    cmd: python prepare.py
    deps:
    - path: ../../config/data_config.yaml
      hash: md5
      md5: 0dc87b324c12218372ddf6a9e2daf984
      size: 804
    - path: prepare.py
      hash: md5
      md5: 890fc346dcb7dfb59c6c3cc1d47a1715
      size: 231
    params:
      prepare_params.yaml:
        end_date: '2023-09-22'
        start_date: '2000-01-03'
    outs:
    - path: ../../data/main.csv
      hash: md5
      md5: 96b8711a53396327041c3b56e235ef90
      size: 3209421
  train:
    cmd: python train.py
    deps:
    - path: ../../config/model_config.yaml
      hash: md5
      md5: ac21e0e9eb595c6a472ec09c8b5b84b3
      size: 197
    - path: ../../data/main.csv
      hash: md5
      md5: 96b8711a53396327041c3b56e235ef90
      size: 3209421
    - path: train.py
      hash: md5
      md5: 11d850958009333d7ade5e66b4df39d9
      size: 401
    outs:
    - path: ../../ckpts/main
      hash: md5
      md5: bd4bbf651d09f5517f6fc500b15b31fb.dir
      size: 884086
      nfiles: 17
  test:
    cmd: python test.py
    deps:
    - path: ../../ckpts/main
      hash: md5
      md5: bd4bbf651d09f5517f6fc500b15b31fb.dir
      size: 884086
      nfiles: 17
    - path: test.py
      hash: md5
      md5: 9e4360421e428e648b9b28d7c78aebdd
      size: 1850
    outs:
    - path: ../../results/test_metrics.csv
      hash: md5
      md5: fb4817e9d071d472441cfb4f70d71a6f
      size: 714
    - path: ../../results/test_metrics.json
      hash: md5
      md5: 800ffd173b54db1e461c3461c71db5b4
      size: 508
    - path: ../../results/test_predictions.csv
      hash: md5
      md5: 48b4e532c0a2d2f56fb2dc117f63582b
      size: 31460
    - path: ../../results/test_ranked.csv
      hash: md5
      md5: b8727d8e498af90083fc68e5499d059a
      size: 130
  forecast:
    cmd: python forecast.py
    deps:
    - path: ../../results/test_ranked.csv
      hash: md5
      md5: b8727d8e498af90083fc68e5499d059a
      size: 130
    - path: forecast.py
      hash: md5
      md5: 2c0ce07af51de408a5ebf1647b28dd39
      size: 1128
    outs:
    - path: ../../ckpts/prod
      hash: md5
      md5: 9f9a07a83e9b811c0d7888ac73b27e63.dir
      size: 884097
      nfiles: 17
    - path: ../../results/forecast.csv
      hash: md5
      md5: ba0d2bee87d7bbf9d658a0285b646a48
      size: 23441
  recommend:
    cmd: python recommend.py
    deps:
    - path: ../../results/forecast.csv
      hash: md5
      md5: ba0d2bee87d7bbf9d658a0285b646a48
      size: 23441
    - path: recommend.py
      hash: md5
      md5: 2106aa14570725536b2b1c594eafa4ef
      size: 1442
    outs:
    - path: ../../results/recommendation.json
      hash: md5
      md5: a12a3728b83ecee7e4ff8773b4153bdc
      size: 1684
